<div class="main-column">
	<div class="container shadow">

		<div class="avatar" (click)="toggleCrop(false)">

			<div class="hover-layer">
				<span>
					<i class="fas fa-edit fa-2x"></i>
				</span>
			</div>

			<i id="avatarPlaceholder" *ngIf="!this.user.isAvatarSet" class="fas fa-user fa-2x"></i>
			<img class="profile-img" *ngIf="this.user.isAvatarSet" [src]="this.user.avatar" alt="">
			
		</div>

		<div class="major-user-info">

			<h1>{{user.username}}</h1>
			<i class="fas fa-envelope"></i>&nbsp;{{user.mail}}<br>
			<i class="fas fa-calendar"></i>&nbsp;Data dołączenia: {{user.dateOfRegistration}}

		</div>

		<app-crop [@toggle]="isCropperShown" style="grid-column-start: 1; overflow: hidden; grid-column-end: 3;"
			(imageUploaded)="reciveImage($event)" (cancel)="toggleCrop($event)"></app-crop>
			
		<div class="user-info">

			<app-professions [professions]="this.professions"></app-professions>

			<br>

			<app-filmography [filmography]="this.user['filmography']"></app-filmography>



			<div class="photos">
				<h2>Zdjęcia:</h2>
				<mat-divider></mat-divider>
				<button mat-flat-button color="primary" (click)="addPhoto()">+ Dodaj</button>
				<br>
				<br>
				<br>
				<div class="photo-thumbs" *ngIf="this.user.photos">
					<div class="image-item" *ngFor="let photo of this.user.photos" (click)="selectPhoto(photo)">
						<img src='{{this.us.APIurl}}photo/{{this.user.username}}/{{photo}}' alt="">
					</div>
				</div>
				<input #newPhoto id="newPhoto" type="file" (change)="handleNewPhoto($event)">
			</div>

			<app-photo-view *ngIf="this.galleryFlag" [photoPath]="this.selectedPhoto" (click)="photoGalleryClose(false)" ></app-photo-view>
		</div>
	</div>
</div>